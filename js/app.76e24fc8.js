(function(t){function e(e){for(var n,o,r=e[0],c=e[1],l=e[2],p=0,d=[];p<r.length;p++)o=r[p],a[o]&&d.push(a[o][0]),a[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(d.length)d.shift()();return i.push.apply(i,l||[]),s()}function s(){for(var t,e=0;e<i.length;e++){for(var s=i[e],n=!0,r=1;r<s.length;r++){var c=s[r];0!==a[c]&&(n=!1)}n&&(i.splice(e--,1),t=o(o.s=s[0]))}return t}var n={},a={app:0},i=[];function o(e){if(n[e])return n[e].exports;var s=n[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=n,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(s,n,function(e){return t[e]}.bind(null,n));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=c;i.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"034f":function(t,e,s){"use strict";var n=s("64a9"),a=s.n(n);a.a},"167c":function(t,e,s){"use strict";var n=s("845e"),a=s.n(n);a.a},"18c2":function(t,e,s){"use strict";var n=s("e2d4"),a=s.n(n);a.a},"36e1":function(t,e,s){"use strict";var n=s("c2e3"),a=s.n(n);a.a},"387e":function(t,e,s){t.exports=s.p+"img/github.809d396b.svg"},4779:function(t,e,s){},"4bcb":function(t,e,s){"use strict";var n=s("d573"),a=s.n(n);a.a},"4c30":function(t,e,s){t.exports=s.p+"img/favour.7bcbe035.svg"},"56d7":function(t,e,s){"use strict";s.r(e);s("cadf"),s("551c"),s("f751"),s("097d");var n,a,i=s("2b0e"),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("c-return-top"),s("c-header"),s("main",{staticClass:"clearfix"},[s("div",{staticClass:"slidebar"},[s("div",{staticClass:"container"},[s("router-view",{attrs:{name:"slidebar"}})],1)]),s("router-view",{attrs:{name:"main"}})],1)],1)},r=[],c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:["wrapper",{active:t.show}],on:{click:function(e){return t.scrollToTop()}}},[s("svg",{staticClass:"icon",attrs:{t:"1562073303567",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2387",width:"200",height:"200"}},[s("path",{attrs:{d:"M511.3 349.1l395.44 392.72a32 32 0 0 0 45.1-45.41L533.7 281.14a32 32 0 0 0-45.25 0.16L76 696.57a32 32 0 1 0 45.41 45.1z","p-id":"2388"}})])])},l=[],u=s("682a"),p=s.n(u),d={name:"cReturnTop",data:function(){return{show:!1,time:500}},methods:{handScroll:function(){var t=window.scrollY;this.show=t>300},scrollToTop:function(){function t(e){requestAnimationFrame(t),p.a.update(e)}requestAnimationFrame(t);var e={x:window.scrollX,y:window.scrollY};new p.a.Tween(e).to({x:0,y:0},this.time).easing(p.a.Easing.Quadratic.Out).onUpdate(function(){window.scrollTo(e.x,e.y)}).start()}},mounted:function(){window.addEventListener("scroll",this.handScroll,!0)},destroyed:function(){window.removeEventListener("scroll",this.handScroll,!0)}},h=d,v=(s("8ca1"),s("2877")),f=Object(v["a"])(h,c,l,!1,null,null,null),m=f.exports,g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",[n("div",{class:["mask",{active:t.ulActive}]}),n("div",{staticClass:"container"},[n("div",{staticClass:"m-wrapper"},[n("router-link",{staticClass:"logo",attrs:{to:{name:"root",params:{tab:"all"}}}},[n("img",{staticClass:"logo",attrs:{src:s("9b19"),alt:""}})]),n("menu",[t.isLogin?n("router-link",{attrs:{to:{name:"userInfo",params:{loginName:t.info.loginname}}}},[n("img",{staticClass:"avatar",attrs:{src:t.info.avatar_url}})]):n("router-link",{attrs:{to:{name:"login"}},nativeOn:{click:function(e){t.ulActive=!1}}},[t._v("登录")]),n("svg",{staticClass:"icon",class:{active:t.ulActive},attrs:{t:"1561186415629",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2237"},on:{click:function(e){t.ulActive=!t.ulActive}}},[n("path",{attrs:{d:"M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zM904 784H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zM904 472H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z","p-id":"2238"}})])],1)],1),n("ul",{class:{active:t.ulActive}},[n("li",[n("router-link",{attrs:{to:{name:"root",params:{tab:"all"}}}},[t._v("首页")])],1),t._m(0),t._m(1),t._m(2),t.isLogin?n("li",{staticClass:"loginout",on:{click:function(e){return t.loginout()}}},[n("a",[t._v("退出")])]):t._e()])])])},_=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",[s("a",{attrs:{href:"###"}},[t._v("新手入门")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",[s("a",{attrs:{href:"###"}},[t._v("API")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",[s("a",{attrs:{href:"###"}},[t._v("关于")])])}],C={data:function(){return{accesstoken:""}},methods:{saveToken:function(){sessionStorage.setItem("accesstoken",this.accesstoken)},clearToken:function(){this.accesstoken="",sessionStorage.removeItem("accesstoken")}},created:function(){var t=sessionStorage.getItem("accesstoken");null!==t&&(this.accesstoken=t)}},w=C,b=Object(v["a"])(w,n,a,!1,null,null,null),k=b.exports,y={name:"c-header",mixins:[k],data:function(){return{info:{},isLogin:!1,ulActive:!1}},methods:{loginout:function(){this.$eventBus.$emit("loginout"),this.isLogin=!1,this.info={},this.ulActive=!1},handScroll:function(){var t=window.scrollY;this.ulActive&&(this.ulActive=!(t>5))}},created:function(){var t=this;this.isLogin=!!this.accesstoken,this.$eventBus.$on("login",function(e){t.isLogin=!0,t.info=e})},mounted:function(){window.addEventListener("scroll",this.handScroll)},destroyed:function(){window.removeEventListener("scroll",this.handScroll)}},T=y,x=(s("4bcb"),Object(v["a"])(T,g,_,!1,null,"1b0726b4",null)),E=x.exports,S=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[s("div",{staticClass:"panel topicList"},[s("header",{staticClass:"topicTap"},t._l(t.tabs,function(e){return s("router-link",{key:e.key,class:["topicTap",{active:t.$route.params.tab===e.key}],attrs:{to:{name:"root",params:{tab:e.key}}}},[t._v(t._s(e.text))])}),1),s("main",[s("div",{staticClass:"topics"},t._l(t.postList,function(t){return s("c-topicCell",{key:t.id,attrs:{topic:t}})}),1),s("div",{directives:[{name:"show",rawName:"v-show",value:t.loadMore,expression:"loadMore"}],staticClass:"loadMore"},[t._m(0)])])])])},I=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"dots"},[s("div"),s("div"),s("div")])}],N=(s("96cf"),s("3b8d")),$="https://cnodejs.org/api/v1",O={topics:"/topics",topic:"/topic/",userInfo:"/user/",login:"/accesstoken",collected:"/topic_collect/",collectTopic:"/topic_collect/collect",cancelCollect:"/topic_collect/de_collect"};for(var L in O)if(O.hasOwnProperty(L)){var R=O[L];O[L]=$+R}O.baseUrl=$;var A=O,U=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.isMobile?s("div",{staticClass:"cell mobile"},[s("router-link",{staticClass:"avatar",attrs:{to:{name:"userInfo",params:{loginName:t.topic.author.loginname}}}},[s("img",{staticClass:"avatar",attrs:{src:t.topic.author.avatar_url,alt:"",title:t.topic.author.loginname}})]),s("div",{staticClass:"topicDetail"},[s("div",{staticClass:"userInfo"},[s("span",{staticClass:"loginName"},[t._v(t._s(t.topic.author.loginname))]),t.topic.tab||t.topic.good||t.topic.top?s("span",{class:["tag",{spe:t.topic.good||t.topic.top}]},[t._v(t._s(t._f("tagParse")(t.topic)))]):t._e()]),s("div",{staticClass:"topicData"},[s("span",{staticClass:"lastReplayTime"},[t._v(t._s(t._f("formatDate")(t.topic.last_reply_at)))]),void 0!=t.topic.reply_count&&void 0!=t.topic.visit_count?s("div",{staticClass:"right-wrapper"},[s("span",{staticClass:"reply_count"},[t._v(t._s(t.topic.reply_count)+" 回复")]),s("span",{staticClass:"visites_count"},[t._v(t._s(t.topic.visit_count)+"次阅读")])]):t._e()]),s("span",{staticClass:"topicList"},[s("span",{staticClass:"topic_title"},[s("router-link",{attrs:{title:t.topic.title,to:{name:"topic",params:{id:t.topic.id,loginName:t.topic.author.loginname}}}},[t._v(t._s(t.topic.title))])],1)])])],1):s("div",{staticClass:"cell"},[s("router-link",{staticClass:"avatar",attrs:{to:{name:"userInfo",params:{loginName:t.topic.author.loginname}}}},[s("img",{staticClass:"avatar",attrs:{src:t.topic.author.avatar_url,alt:"",title:t.topic.author.loginname}})]),void 0!==t.topic.visit_count?s("span",{staticClass:"replayAndVisited"},[s("span",{staticClass:"reply_count"},[t._v(t._s(t.topic.reply_count))]),s("span",{staticClass:"count_seperator"},[t._v("/")]),s("span",{staticClass:"visites_count"},[t._v(t._s(t.topic.visit_count))])]):t._e(),s("span",{staticClass:"topicList"},[t.topic.tab||t.topic.good||t.topic.top?s("span",{class:["tag",{spe:t.topic.good||t.topic.top}]},[t._v(t._s(t._f("tagParse")(t.topic)))]):t._e(),s("span",{staticClass:"topic_title"},[s("router-link",{attrs:{title:t.topic.title,to:{name:"topic",params:{id:t.topic.id,loginName:t.topic.author.loginname}}}},[t._v(t._s(t.topic.title))])],1)]),s("span",{staticClass:"lastReplayTime"},[t._v(t._s(t._f("formatDate")(t.topic.last_reply_at)))])],1)])},M=[],D={name:"cTopicCell",props:["topic"],data:function(){var t=window.innerWidth,e=t<=960;return{isMobile:e}}},j=D,P=(s("36e1"),Object(v["a"])(j,U,M,!1,null,"80325d22",null)),F=P.exports,B={name:"c-post-list",data:function(){return{tabs:[{key:"all",text:"全部"},{key:"good",text:"精品"},{key:"share",text:"分享"},{key:"ask",text:"问答"},{key:"job",text:"招聘"}],page:1,limit:40,postList:[],title:"CNode：Node.js专业中文社区",loadMore:!1}},components:{cTopicCell:F},methods:{getData:function(){var t=Object(N["a"])(regeneratorRuntime.mark(function t(){var e,s,n,a,i,o=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=!(o.length>0&&void 0!==o[0])||o[0],t.next=3,this.$http.get(A.topics,{params:{tab:this.$route.params.tab,page:this.page,limit:this.limit}});case 3:return s=t.sent,n=s.data,a=n.data,i=n.success,i&&(this.postList=0!==this.postList.length&&e?this.postList.concat(a):a),t.abrupt("return",i);case 9:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),handleScroll:function(){var t=this,e=this.$el.getBoundingClientRect().bottom,s=window.innerHeight||document.documentElement.clientHeight;e-s<20&&!this.loadMore&&(this.loadMore=!0,this.page++,this.getData().then(function(e){t.loadMore=!e}))}},watch:{$route:function(){this.getData(!1)}},created:function(){this.getData(!1)},mounted:function(){document.addEventListener("scroll",this.handleScroll)},destroyed:function(){document.removeEventListener("scroll",this.handleScroll)}},H=B,Y=(s("ff6e"),Object(v["a"])(H,S,I,!1,null,"8a254894",null)),G=Y.exports,K=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"article"},[t.loading?s("div",{staticClass:"loading"}):s("main",[s("div",{staticClass:"panel topic"},[s("div",{staticClass:"header clearfix"},[s("div",{staticClass:"top"},[t.post.good||t.post.top?s("span",{class:["tag",{spe:t.post.good||t.post.top}]},[t._v(t._s(t._f("tagParse")(t.post)))]):t._e(),s("h1",[t._v(t._s(t.post.title))])]),s("ul",{staticClass:"detail clearfix"},[s("li",{staticClass:"time"},[t._v("发布于"+t._s(t._f("formatDate")(t.post.create_at)))]),s("li",{staticClass:"author"},[t._v("作者: "+t._s(t.post.author&&t.post.author.loginname))]),s("li",{staticClass:"visitCount"},[t._v(t._s(t.post.visit_count)+"次浏览")]),t.post.tab?s("li",{staticClass:"tap"},[t._v("\n            来自\n            "),s("span",[t._v(t._s(t._f("tagParse")(t.post,!1)))])]):t._e()]),""!==t.accesstoken?s("button",{class:["collect",{active:t.post.is_collect}],on:{click:function(e){return t.postCollect()}}},[t._v(t._s(t.post.is_collect?"取消收藏":"收藏"))]):t._e()]),s("div",{staticClass:"content author",domProps:{innerHTML:t._s(t.post.content)}})]),s("div",{staticClass:"panel comment"},[s("header",[s("span",[t._v(t._s(t._f("formatReplaies")(t.post.replies.length))+"回复")])]),s("div",{staticClass:"list"},t._l(t.post.replies,function(t,e){return s("c-comment",{key:t.id,attrs:{reply:t,index:e}})}),1)])])])},V=[],z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"cell",on:{mouseenter:function(e){t.hover.active=!0},mouseleave:function(e){t.hover.active=!1}}},[n("router-link",{attrs:{to:{name:"userInfo",params:{loginName:t.reply.author.loginname}}}},[n("img",{staticClass:"avatar",attrs:{src:t.reply.author.avatar_url,alt:"avatar"}})]),n("span",{staticClass:"detail"},[n("span",{staticClass:"loginName"},[t._v(t._s(t.reply.author.loginname))]),n("span",{staticClass:"replyTime"},[t._v(t._s(t._f("formatDate")(t.reply.create_at)))]),n("span",{staticClass:"separator"},[t._v("•")]),n("span",[t._v(t._s(t.index+1)+"楼")]),n("span",{directives:[{name:"show",rawName:"v-show",value:t.hover.active||t.reply.ups.length,expression:"hover.active ||reply.ups.length"}],staticClass:"favour"},[n("img",{attrs:{src:s("4c30"),alt:"",srcset:""}}),n("span",{staticClass:"ups"},[t._v(t._s(t.reply.ups.length?t.reply.ups.length:""))])])]),n("div",{staticClass:"content",domProps:{innerHTML:t._s(t.reply.content)}})],1)])},q=[],J={props:["reply","index"],name:"cComment",data:function(){return{hover:{active:!1,timer:0}}}},W=J,Q=(s("ec9b"),Object(v["a"])(W,z,q,!1,null,"6db7c241",null)),X=Q.exports,Z={name:"c-article",mixins:[k],data:function(){return{post:{},loading:!0}},components:{cComment:X},filters:{formatReplaies:function(t){var e=t+" ";return 0===t&&(e="暂无"),e}},methods:{getTopicInfo:function(){var t=Object(N["a"])(regeneratorRuntime.mark(function t(){var e,s,n,a,i,o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$route.params.id,s={method:"get",url:A.topic+e},this.accesstoken&&(s.params={accesstoken:this.accesstoken}),t.next=5,this.$http(s);case 5:n=t.sent,a=n.data,i=a.data,o=a.success,o&&(this.post=i,this.loading=!1);case 10:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),postCollect:function(){var t=Object(N["a"])(regeneratorRuntime.mark(function t(){var e,s,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e={method:"post",url:this.post.is_collect?A.cancelCollect:A.collectTopic,data:{topic_id:this.$route.params.id,accesstoken:this.accesstoken}},t.next=3,this.$http(e);case 3:s=t.sent,n=s.data.success,n&&(this.post.is_collect=!this.post.is_collect);case 6:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},watch:{$route:function(){this.getTopicInfo()}},created:function(){this.getTopicInfo()}},tt=Z,et=(s("167c"),Object(v["a"])(tt,K,V,!1,null,"add30e70",null)),st=et.exports,nt=s("8c4f"),at=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("main",{staticClass:"userInfo"},[s("div",{staticClass:"panel recentTopics"},[s("header",[t._v("最近创建的话题")]),s("div",{staticClass:"list"},[0===t.topics().length?s("div",{staticClass:"cell"},[t._v("还没有创建过什么话题")]):t._e(),t._l(t.topics(),function(t){return s("c-topic-cell",{key:t.id,attrs:{topic:t}})}),!t.showAll&&t.needShowMore?s("div",{staticClass:"moreTopic"},[s("span",{on:{click:function(e){t.showAll=!0}}},[t._v("\n        查看更多»\n        ")])]):t._e()],2)]),t.showAll?t._e():s("div",{staticClass:"panel recentReplies"},[s("header",[t._v("最近参与的话题")]),s("div",{staticClass:"list"},[t.info.recent_replies&&0===t.info.recent_replies.length?s("div",{staticClass:"cell"},[t._v("还没有参与什么话题")]):t._e(),t._l(t.info.recent_replies,function(t){return s("c-topic-cell",{key:t.id,attrs:{topic:t}})})],2)])])},it=[],ot={name:"cUserinfo",data:function(){return{info:{},showAll:!1,needShowMore:!1}},components:{cTopicCell:F},methods:{topics:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,e=this.info.recent_topics||[],s=e.length>t;return this.needShowMore=s,s&&!1===this.showAll&&(e=e.slice(0,t)),e}},created:function(){var t=this;this.$eventBus.$on("infoChanged",function(e){t.info=e})}},rt=ot,ct=(s("cf24"),Object(v["a"])(rt,at,it,!1,null,"86a5ca62",null)),lt=ct.exports,ut=function(){var t=this,e=t.$createElement,n=t._self._c||e;return void 0!==t.info.loginname?n("div",[n("div",{staticClass:"panel userInfo"},["topic"===t.info.loginName?n("header",[t._v("作者")]):(t.info.loginName="userInfo")?n("header",[t._v("个人信息")]):t._e(),n("div",{staticClass:"info"},[n("div",{staticClass:"img-container"},[n("router-link",{attrs:{to:{name:"userInfo",params:{loginName:t.info.loginname}}}},[n("img",{attrs:{src:t.info.avatar_url,alt:"avatar"}})]),n("router-link",{attrs:{to:{name:"userInfo",params:{loginName:t.info.loginname}}}},[n("span",{staticClass:"loginName"},[t._v(t._s(t.info.loginname))])])],1),n("dl",[t.info.githubUsername?n("dt",{staticClass:"github"},[n("img",{attrs:{src:s("387e"),alt:"github",srcset:""}})]):t._e(),t.info.githubUsername?n("dd",{staticClass:"github"},[n("a",{attrs:{href:"https://github.com/"+t.info.githubUsername}},[t._v("@"+t._s(t.info.githubUsername))])]):t._e(),n("dt",{staticClass:"score"},[t._v("积分")]),n("dd",{staticClass:"score"},[t._v(t._s(t.info.score))]),n("dt",{staticClass:"registTime"},[t._v("注册时间")]),n("dd",{staticClass:"registTime"},[t._v(t._s(t._f("formatDate")(t.info.create_at)))])])])]),"userInfo"!==t.$route.name?n("div",{staticClass:"panel otherTopic"},[n("header",[t._v("作者其它话题")]),n("div",{staticClass:"list"},t._l(t.topics(),function(e){return n("div",{key:e.id,staticClass:"cell"},[n("router-link",{attrs:{to:{name:"topic",params:{id:e.id}},title:e.title}},[t._v(t._s(e.title))])],1)}),0)]):t._e()]):t._e()},pt=[],dt={name:"cslidebar",data:function(){return{info:{},showAll:!1}},methods:{getData:function(){var t=Object(N["a"])(regeneratorRuntime.mark(function t(){var e,s,n,a,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$route.params.loginName,t.next=3,this.$http.get(A.userInfo+e);case 3:s=t.sent,n=s.data,a=n.data,i=n.success,i&&(this.info=a);case 8:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),topics:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,e=this.info.recent_topics||[];return e.length>t&&!1===this.showAll&&(e=e.slice(0,t)),e}},watch:{$route:function(){this.getData()},info:function(){this.$eventBus.$emit("infoChanged",this.info)}},created:function(){this.getData()}},ht=dt,vt=(s("18c2"),Object(v["a"])(ht,ut,pt,!1,null,"3807e1f1",null)),ft=vt.exports,mt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{directives:[{name:"show",rawName:"v-show",value:t.status!==t.statusCode.SUCCESS&&t.status!==t.statusCode.REUSETOKEN,expression:"status !== statusCode.SUCCESS && status !==statusCode.REUSETOKEN"}],staticClass:"login-container panel"},[s("header",[t._v("登录")]),s("form",[s("div",{staticClass:"input-wrapper"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.accesstoken,expression:"accesstoken",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"在此粘贴accesstoken"},domProps:{value:t.accesstoken},on:{change:function(e){return t.verifyInput()},input:[function(e){e.target.composing||(t.accesstoken=e.target.value.trim())},function(e){t.debounce(t.verifyInput,500)()}],blur:function(e){return t.$forceUpdate()}}})]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.msg,expression:"msg"}],staticClass:"msg"},[t._v(t._s(t.msg))])])]),t.status===t.statusCode.SUCCESS?s("div",{staticClass:"info"},[s("div",{staticClass:"loginUserInfo-container panel"},[s("header",[t._v("个人信息")]),s("div",{staticClass:"img-container info"},[s("router-link",{attrs:{to:{name:"userInfo",params:{loginName:t.info.loginname}}}},[s("img",{attrs:{src:t.info.avatar_url,alt:"avatar"}})]),s("router-link",{attrs:{to:{name:"userInfo",params:{loginName:t.info.loginname}}}},[s("span",{staticClass:"loginName"},[t._v(t._s(t.info.loginname))])])],1)]),s("div",{staticClass:"panel"},[s("header",[t._v("最近收藏的主题")]),s("div",{staticClass:"list"},[0===t.topics().length?s("div",{staticClass:"cell"},[t._v("暂无收藏")]):t._e(),t._l(t.topics(),function(e){return s("div",{key:e.id,staticClass:"cell"},[s("router-link",{attrs:{to:{name:"topic",params:{id:e.id,loginName:e.author.loginname}},title:e.title}},[t._v(t._s(e.title))])],1)})],2)])]):t._e()])},gt=[],_t=(s("7f7f"),{NORMAL:"NORMAL",PENDING:"PENDING",SUCCESS:"SUCCESS",FAILD:"FAILD",VERIFYFAILD:"VERIFYFAILD",REUSETOKEN:"REUSETOKEN"}),Ct={NORMAL:"",PENDING:"验证Token中",SUCCESS:"验证成功",FAILD:"验证失败",VERIFYFAILD:"Token有误"},wt={name:"cLogin",mixins:[k],data:function(){var t=window.innerWidth,e=t<=960;return{statusCode:_t,status:_t.NORMAL,loginName:"",msg:"",timerId:0,info:{},collectedTopic:[],isMobile:e}},watch:{status:function(t,e){this.msg=Ct[t],t===this.statusCode.SUCCESS&&this.$eventBus.$emit("login",this.info)}},created:function(){var t=this;this.$eventBus.$on("loginout",function(){t.loginout()}),this.reuseToken()},methods:{reuseToken:function(){var t=Object(N["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(""===this.accesstoken){t.next=6;break}return this.status=this.statusCode.REUSETOKEN,t.next=4,this.postToken();case 4:return t.next=6,this.getCollectTopic();case 6:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),topics:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,e=this.collectedTopic||[];return e.length>t&&(e=e.slice(0,t)),e},debounce:function(t,e,s){var n=this;return function(){n.timerId&&window.clearTimeout(n.timerId),n.timerId=window.setTimeout(function(){t.apply(n,s)},e)}},verifyInput:function(){var t=!0;""!==this.accesstoken?(this.accesstoken.length<36&&(t=!1),t?this.login():this.status=this.statusCode.VERIFYFAILD):this.status=_t.NORMAL},login:function(){var t=Object(N["a"])(regeneratorRuntime.mark(function t(e){var s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.status===this.statusCode.PENDING||this.status===this.statusCode.SUCCESS){t.next=6;break}return this.status=this.statusCode.PENDING,t.next=4,this.postToken();case 4:s=t.sent,s&&(sessionStorage.setItem("accesstoken",this.accesstoken),this.saveToken(),this.isMobile&&"root"!==this.$route.name?this.$router.push({name:"root",params:{tab:"all"}}):this.getCollectTopic());case 6:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),loginout:function(){this.clearToken(),this.status=this.statusCode.NORMAL},postToken:function(){var t=Object(N["a"])(regeneratorRuntime.mark(function t(){var e,s,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$http.post(A.login,{accesstoken:this.accesstoken});case 3:return e=t.sent,s=e.data,this.info=s,this.status=this.statusCode.SUCCESS,t.abrupt("return",!0);case 10:if(t.prev=10,t.t0=t["catch"](0),n=t.t0.response.status,401!==n){t.next=18;break}return this.status=this.statusCode.FAILD,t.abrupt("return",!1);case 18:throw t.t0;case 19:case"end":return t.stop()}},t,this,[[0,10]])}));function e(){return t.apply(this,arguments)}return e}(),getCollectTopic:function(){var t=Object(N["a"])(regeneratorRuntime.mark(function t(){var e,s,n,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$http.get(A.collected+this.info.loginname);case 2:e=t.sent,s=e.data,n=s.data,a=s.success,a&&(this.collectedTopic=n);case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}},bt=wt,kt=(s("af61"),Object(v["a"])(bt,mt,gt,!1,null,"3f184874",null)),yt=kt.exports;i["a"].use(nt["a"]);var Tt=new nt["a"]({routes:[{path:"/",redirect:"/all"},{name:"root",path:"/:tab",components:{main:G,slidebar:yt}},{name:"login",path:"/login/user",components:{main:yt}},{name:"topic",path:"/topic/:loginName/:id",components:{main:st,slidebar:ft}},{name:"userInfo",path:"/user/:loginName",components:{slidebar:ft,main:lt}}]}),xt=Tt,Et={name:"app",router:xt,components:{cReturnTop:m,cHeader:E,cPostList:G,cArtical:st}},St=Et,It=(s("034f"),Object(v["a"])(St,o,r,!1,null,null,null)),Nt=It.exports,$t=(s("f5df"),s("e4cb"),s("bc3a")),Ot=s.n($t);i["a"].config.productionTip=!1,i["a"].prototype.$http=Ot.a,i["a"].prototype.$eventBus=new i["a"],i["a"].filter("formatDate",function(t){var e=(new Date).getTime()-new Date(t).getTime();e=new Date(e);var s="";return s=1970!==e.getUTCFullYear()?"".concat(e.getUTCFullYear()-1970,"年前"):0!==e.getUTCMonth()?"".concat(e.getUTCMonth(),"月前"):1!==e.getUTCDate()?"".concat(e.getUTCDate()-1,"天前"):0!==e.getUTCHours()?"".concat(e.getUTCHours(),"小时前"):0!==e.getUTCMinutes()?"".concat(e.getUTCMinutes(),"分钟前"):e.getUTCSeconds()>=30?"".concat(e.getUTCSeconds(),"秒前"):"刚刚",s}),i["a"].filter("tagParse",function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s="";return t.top&&e?s="置顶":t.good&&e?s="精品":"share"===t.tab?s="分享":"ask"===t.tab?s="问答":"job"===t.tab&&(s="招聘"),s}),new i["a"]({render:function(t){return t(Nt)}}).$mount("#app")},"64a9":function(t,e,s){},"72a0":function(t,e,s){},"845e":function(t,e,s){},"8ca1":function(t,e,s){"use strict";var n=s("e0ea"),a=s.n(n);a.a},"9b19":function(t,e,s){t.exports=s.p+"img/logo.86f6a7c2.svg"},af61:function(t,e,s){"use strict";var n=s("4779"),a=s.n(n);a.a},c2e3:function(t,e,s){},c33b:function(t,e,s){},c393:function(t,e,s){},cf24:function(t,e,s){"use strict";var n=s("c33b"),a=s.n(n);a.a},d573:function(t,e,s){},e0ea:function(t,e,s){},e2d4:function(t,e,s){},ec9b:function(t,e,s){"use strict";var n=s("c393"),a=s.n(n);a.a},ff6e:function(t,e,s){"use strict";var n=s("72a0"),a=s.n(n);a.a}});
//# sourceMappingURL=app.76e24fc8.js.map